
map :: (a -> b) -> i=>a -> i=>b
map f x = [i: f x[i]]

matmul :: i=>k=>Real -> k=>j=>Real -> i=>k=>Real
matmul x y = [i,j: reduce add [k: x[i,k] * y[k,j]]]

dot :: i=>Real -> i=>Real -> Real
dot x y = reduce add [i: x[i] * y[i]]

outer :: i=>Real -> j=>Real -> i=>j=>Real
outer x y :: [i,j: x[i] * y[j]]

transpose :: i=>j=>a -> j=>i=>a
transpose x = [i,j: x[j,i]]
