
matmul x y = for i k. sum (for j. x.i.j * y.j.k)

matmul2 x y = for i k. sum (for j. x.i.j * y.k.j)


_, nx = unpack range 5

xs = iota :: nx=>Int

mat = for i j. rand (hash 0 (hash xs.i xs.j))


-- this is not fast! about 1000X slower than numpy...
:time matmul mat mat

> 0.621052732s

:passes matmul mat mat

